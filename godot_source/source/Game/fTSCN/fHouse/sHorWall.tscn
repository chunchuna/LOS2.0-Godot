[gd_scene load_steps=6 format=2]

[ext_resource path="res://Game/Art/House/sHouse_horWall.png" type="Texture" id=1]
[ext_resource path="res://Game/Art/House/sHouse_vecWall.png" type="Texture" id=2]
[ext_resource path="res://Game/fTSCN/SortCheck/SortCheck.tscn" type="PackedScene" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Area2D
var player =get_tree().get_root().find_node(\"player\",true,false)

onready var  HagNode = get_parent()


func initCheckNode():
	#初始化节点检测
	print(\"hagnode\",HagNode)
	print(\"player\",player)

	if HagNode==null:
		print(\"不存在挂在节点\",position)
	pass
func _ready() -> void:
	pass

func _process(delta):
	
	pass	

func body_in(body):
	if body!=null:
		if body.name==\"player\":
			print(\"玩家进入Sort检测区域\")
			#执行排序
			StartFsot()

	pass

func body_out(body):
	if body!=null:
		if body.name==\"player\":
			print(\"玩家离开Sort检测区域\")
	pass	

func StartFsot():
	if player.posotion.y>HagNode.position.y:
		print(\"玩家sort在前面\")
		player.z_index=HagNode.z_index+1

	elif  player.posotion.y<HagNode.position.y:	
		player.z_index=HagNode.z_index-1
		print(\"玩家sort在后面\")
		pass
	pass	"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 126.732, 117.097 )

[node name="sHorWall2" type="Sprite"]
position = Vector2( 1.18484, 4.71115 )
scale = Vector2( 0.913858, 0.758715 )
texture = ExtResource( 1 )

[node name="SortCheck" parent="." instance=ExtResource( 3 )]
visible = false
position = Vector2( 4.91864, -0.987387 )
scale = Vector2( 2.83423, 3.93908 )
script = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 0.360596, -110.487 )
scale = Vector2( 1.00288, 0.126647 )
texture = ExtResource( 2 )

[node name="StaticBody2D" type="StaticBody2D" parent="."]
visible = false
position = Vector2( 0, -1.31802 )
collision_layer = 2
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
shape = SubResource( 2 )
